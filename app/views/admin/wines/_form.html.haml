= simple_form_for [:admin, @wine] do |f|
  %h3 Nom
  = f.input :name, label: false, placeholder: "Romanée-Conti Millésime 1945"
  %h3 Détails
  .details-section
    %h4 Robe
    = f.hidden_field :color, value: "red"
    .color-labels{ data: { color: @wine.color.to_s } }
      .color-label.selected#red-label
      .color-label#white-label
      .color-label#rose-label
    %h4 Tags
    .wine-tags-visible-inputs
    .wine-tags-hidden-inputs
      = f.simple_fields_for :wine_taggings do |wine_tagging|
        = wine_tagging.association :wine_tag, as: :hidden
    %h4 Domaine
    = f.input :domain, label: false, placeholder: "Domaine de la Romanée-Conti"
    %h4 Cépage
    = f.input :variety, label: false, placeholder: "Pinot Noir"
  %h3 Notes
  .wine-reviews-container
    = f.simple_fields_for :wine_reviews do |wine_review|
      .wine-review-container
        %h4= "User"
        .wine-review
          .wine-review-input
            = wine_review.input :review, label: false, class: "custom-range", id: "customRange2", input_html: { max: "10", min: "-1", type: "range" }
          .wine-review-value
            0
        = wine_review.association :reviewer, as: :hidden
  %h3 Photo
  - if form == "edit" && @wine.picture.attachment
    = f.input :picture, label: false, input_html: { style: "display:none" }
    = label_tag "wine_picture", @wine.picture.filename, id: "wine-picture-button", class: 'file-chosen'
  - else
    = f.input :picture, label: false, input_html: { style: "display:none" }
    = label_tag "wine_picture", "Choisir un fichier", id: "wine-picture-button"

  .submit-container
    - button_text = form == "new" ? "Créer" : "Sauvegarder"
    = f.button :submit, button_text, class: 'submit'

= render "components/flash"
